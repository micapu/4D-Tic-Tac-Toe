(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{17:function(t,e,n){},18:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var r=n(3),i=n.n(r),c=n(8),o=n.n(c),a=(n(17),n.p,n(18),n(7)),s=n(9),l=n(10),u=n(12),j=n(11),x=n(2),h=n(1),f=n(0);function b(t){return t=t.lineProps,Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("line",Object(h.a)({x1:"10",y1:"10",x2:"60",y2:"60"},t)),Object(f.jsx)("line",Object(h.a)({x1:"60",y1:"10",x2:"10",y2:"60"},t))]})}function d(t){return t=t.lineProps,Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("circle",Object(h.a)({cx:"35",cy:"35",r:"30",fill:"none"},t))})}function O(t){return t=t.lineProps,Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("line",Object(h.a)({x1:"2",y1:"2",x2:"12",y2:"12"},t)),Object(f.jsx)("line",Object(h.a)({x1:"12",y1:"2",x2:"2",y2:"12"},t))]})}function p(t){return t=t.lineProps,Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",children:Object(f.jsx)("circle",Object(h.a)({cx:"7",cy:"7",r:"6",fill:"none"},t))})}function v(t){return t=t.lineProps,Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("line",Object(h.a)({x1:"35",y1:"12",x2:"60",y2:"60"},t)),Object(f.jsx)("line",Object(h.a)({x1:"35",y1:"12",x2:"10",y2:"60"},t)),Object(f.jsx)("line",Object(h.a)({x1:"12",y1:"60",x2:"60",y2:"60"},t))]})}function g(t,e){switch(t){case"X":return Object(f.jsx)(b,{lineProps:e});case"O":return Object(f.jsx)(d,{lineProps:e});case"B":return Object(f.jsx)(v,{lineProps:e})}}var m={stroke:"black",strokeWidth:"4",strokeLinecap:"round"};function y(t){var e=Object(r.useState)(!1),n=Object(x.a)(e,2),i=n[0],c=n[1],o=i&&""!==t.onHover&&void 0!==t.onHover?{stroke:"gray",strokeWidth:"4",strokeLinecap:"round"}:m,a=i&&t.onHover||t.display;return Object(f.jsxs)("div",{onClick:t.onClick,onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},style:{width:"70px",height:"70px",background:"white",color:"black",jusifyContent:"center",alignContent:"center",margin:2,padding:0,position:"relative"},children:[g(a,o),t.showText?Object(f.jsx)("p",{style:{margin:0,marginTop:"auto",marginBottom:"auto",display:"block",position:"absolute",bottom:{X:2,O:"50%"}[a],right:"auto",left:"50%",transform:"translateX(-50%)",textAlign:"center"},children:t.showText}):null]})}var w=["X","B","O","B"];function S(t){t.showText;var e=t.metaBoard,n=Object(x.a)(t.pos,2),r=n[0],i=n[1],c=t.gameState.turn,o=w[c];return Object(f.jsx)("div",{style:Object(h.a)(Object(h.a)({},t.style),{},{flex:1,marginTop:10,marginBottom:10}),children:[0,1,2].map((function(n){return Object(f.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:[0,1,2].map((function(c){var a=t.board[c][n];return Object(f.jsx)(y,{showText:e[r][i][c][n].showText,display:a,onHover:"E"===a?o:"",onClick:function(){"E"===a&&t.playMove(r,i,c,n,o)}},c)}))},n)}))})}function k(){for(var t=[],e=0;e<3;e++)for(var n=0;n<3;n++)for(var r=0;r<3;r++)for(var i=0;i<3;i++)t.push([e,n,r,i]);return t}function B(t){for(var e=[],n=0;n<3;n++){e[n]=[];for(var r=0;r<3;r++){e[n][r]=[];for(var i=0;i<3;i++){e[n][r][i]=[];for(var c=0;c<3;c++)e[n][r][i][c]=t()}}}return e}function A(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2],t[3]-e[3]]}function E(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2],t[3]+e[3]]}function T(t,e,n,r){function i(t){return t.every((function(t){return t<3&&t>=0}))}for(var c=[t,e,n,r],o=[],a=new Set,s=-1;s<2;s++)for(var l=-1;l<2;l++)for(var u=-1;u<2;u++)t:for(var j=-1;j<2;j++)if(0!==s||0!==j||0!==u||0!==l){var x="".concat(s).concat(l).concat(u).concat(j),h=[s,l,u,j],f=[c];if(!a.has(x))for(var b in a.add(x),[0,1]){var d=[A,E][b](c,h);if(i(d)){if(f.push(d),3===f.length){o.push(f);continue t}var O=[A,E][b](d,h);if(i(O)){f.push(O),o.push(f);continue t}}}}return o}var C=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(t){var r;Object(s.a)(this,n);return(r=e.call(this,t)).state={board:B((function(){return"E"})),metaBoard:B((function(){return{score:0}})),gameState:{turn:0,linesp1:0,linesp2:0}},r}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.board,i=e.metaBoard,c=e.gameState,o=this.props.ai,s=[],l=[],u=w[this.state.gameState.turn],j=["O","O","X","X"][this.state.gameState.turn],b=function(e,n,r,i,c,o){t.setState((function(t){return t.metaBoard[e][n][r][i][c]=o,t}))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};t.setState((function(t){return Object(h.a)(Object(h.a)({},t),{},{gameState:Object(h.a)(Object(h.a)({},t.gameState),{},{turn:(t.gameState.turn+1)%4})})}),(function(){console.log("here now ",t.state.gameState.turn),e()}))},v=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=0,c=0,o={},s=0,l=0;return k().forEach((function(r){var c=0,u=[];T.apply(void 0,Object(a.a)(r)).forEach((function(i){var o=0,a=0,h=1,f=1;i.forEach((function(r){var i=Object(x.a)(r,4),c=i[0],s=i[1],l=i[2],u=i[3],j=n[c][s][l][u];j===t&&"B"!==t?((o+=1)>1&&console.log(j,t,c,s,l,u),f=0):j===e?(a+=1,h=0):"B"===j&&(h=0,f=0)}));var b=o*h,d=f*a,O=Math.pow(b,5)-Math.pow(d,4);3===d&&(l+=1),3===b&&(s+=1),O>30&&console.log(r,i,O,t,j,o,a,h,f,"AAAAAAAAAAAAA"),0===i[0][0]&&0===i[1][0]&&u.push({lineScore:O,line:i,sameCount:o,blockPieces:a,blocked:h,themblocked:f}),c+=O})),o[r.toString()]={lines:u,placeScore:c},i+=c})),s/=6,l/=6,r&&(b(0,0,0,0,"boardScore",i),b(0,0,0,0,"X","O"===e?s:l),b(0,0,0,0,"O","O"!==e?s:l)),[c,i]},y=function(e,n,r,i,c){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};console.log("SETINDEX",e,n,r,i,c,t.state.gameState.turn),"X"===c?s.push([e,n,r,i]):"O"===c&&(l.push([e,n,r,i]),l.push([e,n,r,i])),t.setState((function(t){return t.board[e][n][r][i]=c,t}),o)};function A(t){var e=function(t){var e=B((function(){return"E"}));return k().forEach((function(n){var r=Object(x.a)(n,4),i=r[0],c=r[1],o=r[2],a=r[3];e[i][c][o][a]=t[i][c][o][a]})),e}(n);return t.forEach((function(t){var n=Object(x.a)(t,5),r=n[0],i=n[1],c=n[2],o=n[3],a=n[4];e[r][i][c][o]=a})),e}var E=function(){var e=-1/0,r=null,i=t.state.gameState.turn,c=w[i];return k().filter((function(t){var e=Object(x.a)(t,4),r=e[0],i=e[1],c=e[2],o=e[3];return"E"===n[r][i][c][o]})).forEach((function(n){var i=Object(x.a)(n,4),o=i[0],a=i[1],s=i[2],l=i[3],u=v(c,"X",A([[o,a,s,l,c]]),!0);console.log(o,a,s,l,u,c);var j=Object(x.a)(u,2),h=j[0],f=j[1];f>e&&(e=f,r=[o,a,s,l]),t.setState((function(t){t.gameState.linesp2=h}))})),console.log("BEST SCORE",e,r),r},C=function(){var e=w[t.state.gameState.turn];console.log("taking AI TURN for "+e,t.state.gameState.turn),P.apply(void 0,Object(a.a)(E()).concat([e]))};"B"!==n[1][1][1][1]&&y(1,1,1,1,"B");var P=function(e,n,r,i,c){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};console.log(e,n,r,i,c,"placed"),y(e,n,r,i,c,(function(){v(u,j,t.state.board,!0),d((function(){a(),console.log("turn toggled to be",t.state.gameState.turn),o&&[2,3].includes(t.state.gameState.turn)&&C()}))}))};return Object(f.jsxs)("div",{style:{flex:1,flexDirection:"row",display:"flex"},children:[Object(f.jsx)("div",{children:[0,1,2].map((function(t){return Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"row"},children:[0,1,2].map((function(e){return Object(r.createElement)(S,Object(h.a)(Object(h.a)({playMove:P,gameState:c,metaBoard:i,board:n[e][t],pos:[e,t]},1===e?{style:{marginRight:10,marginLeft:10}}:{}),{},{key:e}))}))},t)}))}),Object(f.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",width:"150px"},children:[Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(f.jsx)("div",{style:{marginLeft:"20px",marginRight:"20px"},children:"Current Move"}),Object(f.jsxs)("div",{style:{width:"70px",height:"70px",position:"relative"},children:[g(w[this.state.gameState.turn],Object(h.a)(Object(h.a)({},m),{},{stroke:"white"})),(this.state.gameState.turn,Object(f.jsx)("div",{style:{position:"absolute",right:"-23px",top:"48px",height:"25px",width:"25px"},children:{X:Object(f.jsx)(O,{lineProps:Object(h.a)(Object(h.a)({},m),{},{stroke:"white"})}),O:Object(f.jsx)(p,{lineProps:Object(h.a)(Object(h.a)({},m),{},{stroke:"white"})})}[w[this.state.gameState.turn-1]]}))]})]}),Object(f.jsx)("div",{style:{height:"180px"}}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(f.jsx)("div",{style:{width:"70px",height:"70px"},children:g("X",Object(h.a)(Object(h.a)({},m),{},{stroke:"white"}))}),Object(f.jsx)("div",{style:{display:"flex",marginLeft:"20px",marginRight:"20px"},children:Object(f.jsx)("span",{style:{marginTop:"auto",marginBottom:"auto",textAlign:"center",fontSize:"43px"},children:i[0][0][0][0].X||0})})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(f.jsx)("div",{style:{width:"70px",height:"70px"},children:g("O",Object(h.a)(Object(h.a)({},m),{},{stroke:"white"}))}),Object(f.jsx)("div",{style:{display:"flex",marginLeft:"20px",marginRight:"20px"},children:Object(f.jsx)("span",{style:{marginTop:"auto",marginBottom:"auto",textAlign:"center",fontSize:"43px"},children:i[0][0][0][0].O||0})})]}),Object(f.jsx)("h2",{children:this.state.metaBoard[0][0][0][0].boardScore})]})]})}}]),n}(i.a.Component);var P=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("header",{className:"App-header",children:Object(f.jsxs)("div",{style:{flex:1},children:[Object(f.jsxs)("div",{style:{flex:1},children:[Object(f.jsx)("h1",{children:"4D Tic Tac Toe"}),Object(f.jsx)("h5",{children:"Battle in 2 more Ds!"})]}),Object(f.jsx)("div",{children:Object(f.jsx)(C,{ai:!0})})]})})})},X=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),r(t),i(t),c(t),o(t)}))};o.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(P,{})}),document.getElementById("root")),X()}},[[20,1,2]]]);
//# sourceMappingURL=main.ca7c26a3.chunk.js.map